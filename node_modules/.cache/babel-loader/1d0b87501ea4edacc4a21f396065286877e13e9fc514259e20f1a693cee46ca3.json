{"ast":null,"code":"var _jsxFileName = \"/Users/michaelchen/Desktop/Intuit-Mailchimp/fsm-assignment/src/App.js\";\nimport React, { Component } from 'react';\nimport { FiniteStateMachine } from './FiniteStateMachine';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.moveElevatorToFloor = floor => {\n      if (floor === this.state.currentFloor || this.state.currentState !== 'moving') {\n        return;\n      }\n      let adjustment = null;\n      if (floor > this.state.currentFloor) {\n        adjustment = 1;\n      }\n      if (floor > this.state.currentFloor) {\n        adjustment = -1;\n      }\n      this.setState({\n        currentFloor: this.state.currentFloor + adjustment\n      }, () => {\n        setTimeout(this.moveElevatorToFloor(floor), 1000);\n      });\n    };\n    this.callElevator = floor => {\n      this.fsm.handleEvent('CALL_ELEVATOR');\n      this.setState({\n        currentState: this.fsm.currentState\n      });\n      if (floor !== this.state.currentFloor) {\n        this.moveElevatorToFloor(floor);\n      }\n    };\n    this.arriveAtFloor = floor => {\n      const {\n        currentState\n      } = this.state;\n      if (currentState === 'moving') {\n        this.setState({\n          currentFloor: floor\n        });\n        this.fsm.handleEvent('ARRIVED_AT_FLOOR');\n        this.setState({\n          currentState: this.fsm.currentState\n        });\n      }\n    };\n    this.openDoor = () => {\n      this.fsm.handleEvent('DOOR_OPENED');\n      this.setState({\n        currentState: this.fsm.currentState\n      });\n      setTimeout(() => {\n        this.fsm.handleEvent('DOOR_CLOSE');\n        this.setState({\n          currentState: this.fsm.currentState\n        });\n      }, 3000); // Simulating 3 seconds door open duration\n    };\n    this.closeDoor = () => {\n      this.fsm.handleEvent('DOOR_CLOSED');\n      this.setState({\n        currentState: this.fsm.currentState\n      });\n    };\n    this.state = {\n      currentFloor: 1,\n      currentState: 'idle'\n    };\n    this.fsm = new FiniteStateMachine();\n    this.fsm.addState('idle');\n    this.fsm.addState('moving');\n    this.fsm.addState('doorOpening');\n    this.fsm.addState('doorOpen');\n    this.fsm.addState('doorClosing');\n    this.fsm.addTransition('idle', 'moving', 'CALL_ELEVATOR');\n    this.fsm.addTransition('moving', 'doorOpening', 'ARRIVED_AT_FLOOR');\n    this.fsm.addTransition('doorOpening', 'doorOpen', 'DOOR_OPENED');\n    this.fsm.addTransition('doorOpen', 'doorClosing', 'DOOR_CLOSE');\n    this.fsm.addTransition('doorClosing', 'idle', 'DOOR_CLOSED');\n  }\n  render() {\n    const {\n      currentFloor,\n      currentState\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Elevator Simulation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Current Floor: \", currentFloor]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Elevator State: \", currentState]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), currentState === 'idle' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.callElevator(10);\n        },\n        children: \"Call Elevator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), currentState === 'moving' && currentFloor !== 10 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.arriveAtFloor(10);\n        },\n        children: \"Simulate Arrival at Floor 10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), currentState === 'idle' && currentFloor === 10 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.callElevator(1);\n        },\n        children: \"Call Elevator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), currentState === 'moving' && currentFloor === 10 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.arriveAtFloor(1);\n        },\n        children: \"Simulate Arrival at Floor 1 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), currentState === 'doorOpening' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.openDoor,\n        children: \"Opening Door...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), currentState === 'doorOpen' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Door Open\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), currentState === 'doorClosing' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.closeDoor,\n        children: \"Closing Door...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","FiniteStateMachine","jsxDEV","_jsxDEV","App","constructor","props","moveElevatorToFloor","floor","state","currentFloor","currentState","adjustment","setState","setTimeout","callElevator","fsm","handleEvent","arriveAtFloor","openDoor","closeDoor","addState","addTransition","render","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["/Users/michaelchen/Desktop/Intuit-Mailchimp/fsm-assignment/src/App.js"],"sourcesContent":["\nimport React, { Component } from 'react';\nimport { FiniteStateMachine } from './FiniteStateMachine';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentFloor: 1,\n      currentState: 'idle'\n    };\n    this.fsm = new FiniteStateMachine();\n    this.fsm.addState('idle');\n    this.fsm.addState('moving');\n    this.fsm.addState('doorOpening');\n    this.fsm.addState('doorOpen');\n    this.fsm.addState('doorClosing');\n    this.fsm.addTransition('idle', 'moving', 'CALL_ELEVATOR');\n    this.fsm.addTransition('moving', 'doorOpening', 'ARRIVED_AT_FLOOR');\n    this.fsm.addTransition('doorOpening', 'doorOpen', 'DOOR_OPENED');\n    this.fsm.addTransition('doorOpen', 'doorClosing', 'DOOR_CLOSE');\n    this.fsm.addTransition('doorClosing', 'idle', 'DOOR_CLOSED');\n  }\n\n  moveElevatorToFloor = (floor) => {\n    if (floor === this.state.currentFloor || this.state.currentState !== 'moving') {\n      return;\n    }\n    let adjustment = null;\n    if (floor > this.state.currentFloor) {\n      adjustment = 1;\n    }\n    if (floor > this.state.currentFloor) {\n      adjustment = -1;\n    }\n    this.setState({currentFloor: this.state.currentFloor + adjustment},()=>{setTimeout(this.moveElevatorToFloor(floor),1000)})\n  }\n\n  callElevator = (floor) => {\n    this.fsm.handleEvent('CALL_ELEVATOR');\n    this.setState({ currentState: this.fsm.currentState });\n    if (floor !== this.state.currentFloor) {\n      this.moveElevatorToFloor(floor);\n    }\n  };\n\n  arriveAtFloor = (floor) => {\n    const { currentState } = this.state;\n    if (currentState === 'moving') {\n      this.setState({ currentFloor: floor });\n      this.fsm.handleEvent('ARRIVED_AT_FLOOR');\n      this.setState({ currentState: this.fsm.currentState });\n    }\n  };\n\n  openDoor = () => {\n    this.fsm.handleEvent('DOOR_OPENED');\n    this.setState({ currentState: this.fsm.currentState });\n    setTimeout(() => {\n      this.fsm.handleEvent('DOOR_CLOSE');\n      this.setState({ currentState: this.fsm.currentState });\n    }, 3000); // Simulating 3 seconds door open duration\n  };\n\n  closeDoor = () => {\n    this.fsm.handleEvent('DOOR_CLOSED');\n    this.setState({ currentState: this.fsm.currentState });\n  };\n\n  render() {\n    const { currentFloor, currentState } = this.state;\n\n    return (\n      <div>\n        <h1>Elevator Simulation</h1>\n        <p>Current Floor: {currentFloor}</p>\n        <p>Elevator State: {currentState}</p>\n        {currentState === 'idle' && (\n          <button onClick={()=>{this.callElevator(10)}}>Call Elevator</button>\n        )}\n        {currentState === 'moving' && currentFloor !== 10 && (\n          <button onClick={()=>{this.arriveAtFloor(10)}}>Simulate Arrival at Floor 10</button>\n        )}\n        {currentState === 'idle' && currentFloor === 10 &&  (\n          <button onClick={()=>{this.callElevator(1)}}>Call Elevator</button>\n        )}\n         {currentState === 'moving' && currentFloor === 10 && (\n          <button onClick={()=>{this.arriveAtFloor(1)}}>Simulate Arrival at Floor 1 </button>\n        )}\n        {currentState === 'doorOpening' && (\n          <button onClick={this.openDoor}>Opening Door...</button>\n        )}\n        {currentState === 'doorOpen' && (\n          <p>Door Open</p>\n        )}\n        {currentState === 'doorClosing' && (\n          <button onClick={this.closeDoor}>Closing Door...</button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}