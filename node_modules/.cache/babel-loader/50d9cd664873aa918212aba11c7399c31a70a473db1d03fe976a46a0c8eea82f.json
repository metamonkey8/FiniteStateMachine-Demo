{"ast":null,"code":"var _jsxFileName = \"/Users/michaelchen/Desktop/Intuit-Mailchimp/fsm-assignment/src/App.js\";\nimport React, { Component } from 'react';\nimport { FiniteStateMachine } from './FiniteStateMachine';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.callElevator = () => {\n      this.fsm.handleEvent('CALL_ELEVATOR');\n      this.setState({\n        currentState: this.fsm.currentState\n      });\n    };\n    this.arriveAtFloor = floor => {\n      const {\n        currentState\n      } = this.state;\n      if (currentState === 'moving') {\n        this.setState({\n          currentFloor: floor\n        });\n        this.fsm.handleEvent('ARRIVED_AT_FLOOR');\n        this.setState({\n          currentState: this.fsm.currentState\n        });\n      }\n    };\n    this.openDoor = () => {\n      this.fsm.handleEvent('DOOR_OPENED');\n      this.setState({\n        currentState: this.fsm.currentState\n      });\n      setTimeout(() => {\n        this.fsm.handleEvent('DOOR_CLOSE');\n        this.setState({\n          currentState: this.fsm.currentState\n        });\n      }, 3000); // Simulating 3 seconds door open duration\n    };\n    this.closeDoor = () => {\n      this.fsm.handleEvent('DOOR_CLOSED');\n      this.setState({\n        currentState: this.fsm.currentState\n      });\n    };\n    this.state = {\n      currentFloor: 1,\n      currentState: 'idle'\n    };\n    this.fsm = new FiniteStateMachine();\n    this.fsm.addState('idle');\n    this.fsm.addState('moving');\n    this.fsm.addState('doorOpening');\n    this.fsm.addState('doorOpen');\n    this.fsm.addState('doorClosing');\n    this.fsm.addTransition('idle', 'moving', 'CALL_ELEVATOR');\n    this.fsm.addTransition('moving', 'doorOpening', 'ARRIVED_AT_FLOOR');\n    this.fsm.addTransition('doorOpening', 'doorOpen', 'DOOR_OPENED');\n    this.fsm.addTransition('doorOpen', 'doorClosing', 'DOOR_CLOSE');\n    this.fsm.addTransition('doorClosing', 'idle', 'DOOR_CLOSED');\n  }\n  render() {\n    const {\n      currentFloor,\n      currentState\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Elevator Simulation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Current Floor: \", currentFloor]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Elevator State: \", currentState]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), currentState === 'idle' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.callElevator,\n        children: \"Call Elevator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), currentState === 'moving' && currentFloor !== 3 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.arriveAtFloor(3);\n        },\n        children: \"Simulate Arrival at Floor 3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), currentState === 'moving' && currentFloor === 3 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.arriveAtFloor(1);\n        },\n        children: \"Simulate Arrival at Floor 1 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), currentState === 'doorOpening' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.openDoor,\n        children: \"Opening Door...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), currentState === 'doorOpen' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Door Open\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), currentState === 'doorClosing' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.closeDoor,\n        children: \"Closing Door...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","FiniteStateMachine","jsxDEV","_jsxDEV","App","constructor","props","callElevator","fsm","handleEvent","setState","currentState","arriveAtFloor","floor","state","currentFloor","openDoor","setTimeout","closeDoor","addState","addTransition","render","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["/Users/michaelchen/Desktop/Intuit-Mailchimp/fsm-assignment/src/App.js"],"sourcesContent":["\nimport React, { Component } from 'react';\nimport { FiniteStateMachine } from './FiniteStateMachine';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentFloor: 1,\n      currentState: 'idle'\n    };\n    this.fsm = new FiniteStateMachine();\n    this.fsm.addState('idle');\n    this.fsm.addState('moving');\n    this.fsm.addState('doorOpening');\n    this.fsm.addState('doorOpen');\n    this.fsm.addState('doorClosing');\n    this.fsm.addTransition('idle', 'moving', 'CALL_ELEVATOR');\n    this.fsm.addTransition('moving', 'doorOpening', 'ARRIVED_AT_FLOOR');\n    this.fsm.addTransition('doorOpening', 'doorOpen', 'DOOR_OPENED');\n    this.fsm.addTransition('doorOpen', 'doorClosing', 'DOOR_CLOSE');\n    this.fsm.addTransition('doorClosing', 'idle', 'DOOR_CLOSED');\n  }\n\n  callElevator = () => {\n    this.fsm.handleEvent('CALL_ELEVATOR');\n    this.setState({ currentState: this.fsm.currentState });\n  };\n\n  arriveAtFloor = (floor) => {\n    const { currentState } = this.state;\n    if (currentState === 'moving') {\n      this.setState({ currentFloor: floor });\n      this.fsm.handleEvent('ARRIVED_AT_FLOOR');\n      this.setState({ currentState: this.fsm.currentState });\n    }\n  };\n\n  openDoor = () => {\n    this.fsm.handleEvent('DOOR_OPENED');\n    this.setState({ currentState: this.fsm.currentState });\n    setTimeout(() => {\n      this.fsm.handleEvent('DOOR_CLOSE');\n      this.setState({ currentState: this.fsm.currentState });\n    }, 3000); // Simulating 3 seconds door open duration\n  };\n\n  closeDoor = () => {\n    this.fsm.handleEvent('DOOR_CLOSED');\n    this.setState({ currentState: this.fsm.currentState });\n  };\n\n  render() {\n    const { currentFloor, currentState } = this.state;\n\n    return (\n      <div>\n        <h1>Elevator Simulation</h1>\n        <p>Current Floor: {currentFloor}</p>\n        <p>Elevator State: {currentState}</p>\n        {currentState === 'idle' && (\n          <button onClick={this.callElevator}>Call Elevator</button>\n        )}\n        {currentState === 'moving' && currentFloor !== 3 && (\n          <button onClick={()=>{this.arriveAtFloor(3)}}>Simulate Arrival at Floor 3</button>\n        )}\n         {currentState === 'moving' && currentFloor === 3 && (\n          <button onClick={()=>{this.arriveAtFloor(1)}}>Simulate Arrival at Floor 1 </button>\n        )}\n        {currentState === 'doorOpening' && (\n          <button onClick={this.openDoor}>Opening Door...</button>\n        )}\n        {currentState === 'doorOpen' && (\n          <p>Door Open</p>\n        )}\n        {currentState === 'doorClosing' && (\n          <button onClick={this.closeDoor}>Closing Door...</button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}