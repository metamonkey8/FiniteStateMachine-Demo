{"ast":null,"code":"var _jsxFileName = \"/Users/michaelchen/Desktop/Intuit-Mailchimp/fsm-assignment/src/App.js\";\nimport React, { Component } from 'react';\nimport { FiniteStateMachine } from './FiniteStateMachine';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.moveElevatorToFloor = floor => {\n      const {\n        currentFloor\n      } = this.state;\n      if (floor === currentFloor) {\n        return;\n      }\n      let adjustment = null;\n      if (floor > currentFloor) {\n        adjustment = 1;\n      }\n      if (floor < currentFloor) {\n        adjustment = -1;\n      }\n      this.setState({\n        currentFloor: this.state.currentFloor + adjustment\n      }, () => {\n        setTimeout(this.moveElevatorToFloor.bind(this, floor), 1000);\n      });\n    };\n    this.callElevator = floor => {\n      this.fsm.handleEvent('CALL_ELEVATOR');\n      this.setState({\n        currentState: this.fsm.currentState\n      });\n      if (floor !== this.state.currentFloor) {\n        this.moveElevatorToFloor(floor);\n      }\n    };\n    this.arriveAtFloor = floor => {\n      const {\n        currentState\n      } = this.state;\n      if (currentState === 'inTransit') {\n        this.setState({\n          currentFloor: floor\n        });\n        this.fsm.handleEvent('ARRIVED_AT_FLOOR');\n        this.setState({\n          currentState: this.fsm.currentState\n        });\n      }\n    };\n    this.openDoor = () => {\n      this.fsm.handleEvent('DOOR_OPENED');\n      this.setState({\n        currentState: this.fsm.currentState\n      });\n      setTimeout(() => {\n        this.fsm.handleEvent('DOOR_CLOSE');\n        this.setState({\n          currentState: this.fsm.currentState\n        });\n      }, 3000); // 3 seconds door open duration\n    };\n    this.closeDoor = () => {\n      this.fsm.handleEvent('DOOR_CLOSED');\n      this.setState({\n        currentState: this.fsm.currentState\n      });\n    };\n    this.state = {\n      currentFloor: 1,\n      currentState: 'idle'\n    };\n    this.fsm = new FiniteStateMachine();\n    this.fsm.addState('idle');\n    this.fsm.addState('inTransit');\n    this.fsm.addState('doorOpening');\n    this.fsm.addState('doorOpen');\n    this.fsm.addState('doorClosing');\n    this.fsm.addTransition('idle', 'moving', 'CALL_ELEVATOR');\n    this.fsm.addTransition('inTransit', 'doorOpening', 'ARRIVED_AT_FLOOR');\n    this.fsm.addTransition('doorOpening', 'doorOpen', 'DOOR_OPENED');\n    this.fsm.addTransition('doorOpen', 'doorClosing', 'DOOR_CLOSE');\n    this.fsm.addTransition('doorClosing', 'idle', 'DOOR_CLOSED');\n  }\n  render() {\n    const {\n      currentFloor,\n      currentState\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Elevator State Machine Demo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Current Floor: \", currentFloor]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Elevator State: \", currentState]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), currentState === 'idle' && currentFloor !== 10 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.callElevator(10);\n        },\n        children: \"Call Elevator to Floor 10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), currentState === 'inTransit' && currentFloor === 10 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.arriveAtFloor(10);\n        },\n        children: \"Arrival at Floor 10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), currentState === 'idle' && currentFloor === 10 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.callElevator(1);\n        },\n        children: \"Call Elevator to Floor 1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), currentState === 'inTransit' && currentFloor === 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.arriveAtFloor(1);\n        },\n        children: \"Arrival at Floor 1 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), currentState === 'doorOpening' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.openDoor,\n        children: \"Opening Door...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), currentState === 'doorOpen' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Door Open\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), currentState === 'doorClosing' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.closeDoor,\n        children: \"Closing Door...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","FiniteStateMachine","jsxDEV","_jsxDEV","App","constructor","props","moveElevatorToFloor","floor","currentFloor","state","adjustment","setState","setTimeout","bind","callElevator","fsm","handleEvent","currentState","arriveAtFloor","openDoor","closeDoor","addState","addTransition","render","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["/Users/michaelchen/Desktop/Intuit-Mailchimp/fsm-assignment/src/App.js"],"sourcesContent":["\nimport React, { Component } from 'react';\nimport { FiniteStateMachine } from './FiniteStateMachine';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentFloor: 1,\n      currentState: 'idle'\n    };\n    this.fsm = new FiniteStateMachine();\n    this.fsm.addState('idle');\n    this.fsm.addState('inTransit');\n    this.fsm.addState('doorOpening');\n    this.fsm.addState('doorOpen');\n    this.fsm.addState('doorClosing');\n    this.fsm.addTransition('idle', 'moving', 'CALL_ELEVATOR');\n    this.fsm.addTransition('inTransit', 'doorOpening', 'ARRIVED_AT_FLOOR');\n    this.fsm.addTransition('doorOpening', 'doorOpen', 'DOOR_OPENED');\n    this.fsm.addTransition('doorOpen', 'doorClosing', 'DOOR_CLOSE');\n    this.fsm.addTransition('doorClosing', 'idle', 'DOOR_CLOSED');\n  }\n\n  moveElevatorToFloor = (floor) => {\n    const { currentFloor } = this.state;\n    if (floor === currentFloor) {\n      return;\n    }\n    let adjustment = null;\n    if (floor > currentFloor) {\n      adjustment = 1;\n    }\n    if (floor < currentFloor) {\n      adjustment = -1;\n    }\n    this.setState({currentFloor: this.state.currentFloor + adjustment},()=>{setTimeout(this.moveElevatorToFloor.bind(this, floor),1000)})\n  }\n\n  callElevator = (floor) => {\n    this.fsm.handleEvent('CALL_ELEVATOR');\n    this.setState({ currentState: this.fsm.currentState });\n    if (floor !== this.state.currentFloor) {\n      this.moveElevatorToFloor(floor);\n    }\n  };\n\n  arriveAtFloor = (floor) => {\n    const { currentState } = this.state;\n    if (currentState === 'inTransit') {\n      this.setState({ currentFloor: floor });\n      this.fsm.handleEvent('ARRIVED_AT_FLOOR');\n      this.setState({ currentState: this.fsm.currentState });\n    }\n  };\n\n  openDoor = () => {\n    this.fsm.handleEvent('DOOR_OPENED');\n    this.setState({ currentState: this.fsm.currentState });\n    setTimeout(() => {\n      this.fsm.handleEvent('DOOR_CLOSE');\n      this.setState({ currentState: this.fsm.currentState });\n    }, 3000); // 3 seconds door open duration\n  };\n\n  closeDoor = () => {\n    this.fsm.handleEvent('DOOR_CLOSED');\n    this.setState({ currentState: this.fsm.currentState });\n  };\n\n  render() {\n    const { currentFloor, currentState } = this.state;\n\n    return (\n      <div>\n        <h1>Elevator State Machine Demo</h1>\n        <p>Current Floor: {currentFloor}</p>\n        <p>Elevator State: {currentState}</p>\n        {currentState === 'idle' && currentFloor !== 10 && (\n          <button onClick={()=>{this.callElevator(10)}}>Call Elevator to Floor 10</button>\n        )}\n        {currentState === 'inTransit' && currentFloor === 10 && (\n          <button onClick={()=>{this.arriveAtFloor(10)}}>Arrival at Floor 10</button>\n        )}\n        {currentState === 'idle' && currentFloor === 10 &&  (\n          <button onClick={()=>{this.callElevator(1)}}>Call Elevator to Floor 1</button>\n        )}\n         {currentState === 'inTransit' && currentFloor === 1 && (\n          <button onClick={()=>{this.arriveAtFloor(1)}}>Arrival at Floor 1 </button>\n        )}\n        {currentState === 'doorOpening' && (\n          <button onClick={this.openDoor}>Opening Door...</button>\n        )}\n        {currentState === 'doorOpen' && (\n          <p>Door Open</p>\n        )}\n        {currentState === 'doorClosing' && (\n          <button onClick={this.closeDoor}>Closing Door...</button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}